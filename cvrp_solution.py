from ortools.constraint_solver import routing_enums_pb2
from ortools.constraint_solver import pywrapcp

# Define data
def create_data_model():
    data = {}
    # in km
    data['distance'] = [
        [0,12.15,12.56,7.14,5.76,8.64,12.98,14.16,1.02,7.97,11.77,11.98,14.54,6.98,15.58,13.93,10.8,10.32,4.95,9.72,12.35,10.37,7.93,9.96,5.27,3.56,4.42,4.11,5.35,13.8,12.5,12.4,12.71,12.88,14.04,14.91,7.58,10.51,12.22,8.99,14.37,11.45,13.72,13.74,12.46,11.67,8.11,7.67,12.78,6.26,11.58,2.18,7.69,13.43,13.71],
        [12.15,0,9.47,19.29,11.16,20.79,25.13,9.16,11.75,20.12,7.91,17.48,10.45,11.6,10.09,8.44,22.95,10.26,17.1,10.5,7.47,7.71,20.08,22.12,17.43,14.13,16.58,16.27,15.98,25.95,9.23,9.14,9.15,8.93,26.19,11.09,19.58,22.42,24.38,10.73,9.38,3.07,9.44,8.79,11.1,23.43,13.6,13.17,24.93,17.92,9.55,14.34,8.44,7.93,9.04],
        [12.56,9.47,0,16.37,6.8,11.32,15.66,1.6,11.54,12.56,1.56,24.54,1.99,5.58,3.02,4.46,13.48,2.23,12.18,2.84,2,14.77,17.33,14.96,16.76,9,9.54,15.98,7.21,16.48,0.24,0.33,0.32,0.54,16.72,2.35,20.13,23.06,14.91,17.79,1.82,8.77,1.17,1.18,18.17,24.23,20.67,20.23,15.46,18.81,0.98,12.39,15.5,2.51,1.16],
        [7.14,19.29,16.37,0,9.57,5.09,5.84,17.97,7.54,3.81,15.58,8.17,18.35,10.79,19.39,17.74,5.05,14.14,4.19,13.53,16.16,17.5,0.96,2.83,1.86,7.37,6.83,3.03,9.16,7.39,16.32,16.21,16.52,16.69,6.9,18.72,3.77,6.7,7.15,16.12,18.18,18.59,17.53,17.55,19.6,7.86,11.11,6.37,9.32,2.44,15.39,4.95,14.82,17.24,17.52],
        [5.76,11.16,6.8,9.57,0,9.64,13.97,8.4,4.74,8.97,6.01,17.74,8.78,1.22,9.82,8.17,11.8,4.56,5.95,3.96,6.59,9.37,10.53,10.96,9.97,2.98,5.42,9.19,4.83,14.8,6.74,6.63,6.95,7.12,15.04,9.15,13.34,16.27,13.22,10.99,8.61,10.45,7.96,7.98,11.46,17.43,13.87,13.43,13.78,12.02,5.82,5.59,8.71,7.66,7.95],
        [8.64,20.79,11.32,5.09,9.64,0,4.34,12.88,9.04,1.28,12.88,13.26,13.26,9.19,14.3,15.78,2.16,10.54,3.69,10.29,13.32,19,6.05,3.69,5.48,6.66,4.21,4.71,4.81,5.16,11.57,11.65,11.64,11.87,5.4,13.63,8.86,11.79,3.58,17.63,13.09,20.09,12.44,12.46,21.1,12.95,12.61,8.95,4.23,7.53,11.24,6.46,16.33,13.83,12.43],
        [12.98,25.13,15.66,5.84,13.97,4.34,0,15.97,13.38,5.01,17.22,13.95,14.68,13.53,15.42,20.12,2.18,14.88,8.03,14.63,17.66,23.34,6.74,4.37,7.7,11,8.55,8.87,9.15,1.62,15.9,15.99,15.98,16.21,1.06,14.04,9.54,12.47,1.37,21.96,15.75,24.43,15.69,16.35,25.44,13.64,16.95,12.21,3.54,8.22,15.58,10.8,20.67,18.17,16.09],
        [14.16,9.16,1.6,17.97,8.4,12.88,15.97,0,13.14,14.16,2.39,26.14,1.29,7.18,1.42,4.15,13.79,3.84,13.78,4.44,1.81,16.38,18.93,16.57,18.37,10.6,11.15,17.59,8.81,16.79,1.66,1.76,1.45,1.28,17.03,1.93,21.74,24.67,15.22,19.39,0.22,8.46,0.44,0.42,19.77,25.83,22.27,21.83,15.77,20.42,2.58,13.99,17.11,2.2,0.45],
        [1.02,11.75,11.54,7.54,4.74,9.04,13.38,13.14,0,8.38,10.75,13,13.52,5.96,14.56,12.92,11.2,9.31,5.35,8.7,11.33,9.96,8.33,10.37,5.68,2.54,4.83,4.52,4.33,14.2,11.49,11.38,11.69,11.86,14.45,13.89,8.59,11.53,12.63,8.58,13.35,11.04,12.71,12.72,12.06,12.69,9.13,8.69,13.18,7.27,10.56,2.59,7.28,12.41,12.69],
        [7.97,20.12,12.56,3.81,8.97,1.28,5.01,14.16,8.38,0,12.21,11.98,14.54,8.52,15.58,15.11,2.83,10.32,3.02,9.72,12.65,18.34,4.77,2.41,4.2,5.99,3.55,3.86,5.35,5.83,12.5,12.4,12.71,12.88,6.07,14.91,7.58,10.51,4.25,16.96,14.37,19.42,13.72,13.74,20.43,11.67,11.94,7.67,5.51,6.25,11.58,5.79,15.66,13.43,13.71],
        [11.77,7.91,1.56,15.58,6.01,12.88,17.22,2.39,10.75,12.21,0,23.75,2.77,4.79,3.81,2.9,15.04,2.34,11.39,2.59,0.59,13.98,16.54,14.2,15.97,8.21,8.75,15.19,8.07,18.04,1.31,1.23,1.24,1.11,18.28,3.18,19.34,22.27,16.47,17,2.61,7.21,1.96,1.97,17.38,23.44,19.88,19.44,17.02,18.02,1.64,11.6,14.71,1.66,1.95],
        [11.98,17.48,24.54,8.17,17.74,13.26,13.95,26.14,13,11.98,23.75,0,26.53,18.97,27.56,25.92,13.22,22.31,12.36,21.7,24.34,12.44,7.21,9.58,7.78,15.54,15,8.56,17.33,15.56,24.49,24.38,24.69,24.86,14.11,26.89,5.35,8.19,15.32,11.06,26.36,20.55,25.71,25.72,14.53,9.21,6.04,4.31,17.49,5.73,23.56,12.16,9.76,25.41,25.7],
        [14.54,10.45,1.99,18.35,8.78,13.26,14.68,1.29,13.52,14.54,2.77,26.53,0,7.56,1.04,5.44,13.3,4.22,14.16,4.82,2.98,16.76,19.31,16.95,18.75,10.98,11.53,17.97,9.19,15.51,2.04,2.15,1.83,1.67,15.75,0.64,22.12,25.05,13.93,19.77,1.07,9.74,1.01,1.66,20.15,26.21,22.65,22.21,14.48,20.8,2.96,14.37,17.49,3.48,1.41],
        [6.98,11.6,5.58,10.79,1.22,9.19,13.53,7.18,5.96,8.52,4.79,18.97,7.56,0,8.6,6.95,11.35,3.34,6.6,2.74,5.37,9.81,11.75,10.52,11.19,3.42,4.98,10.41,4.38,14.35,5.52,5.41,5.73,5.89,14.59,7.93,14.56,17.49,12.78,12.21,7.39,10.9,6.74,6.76,12.59,18.65,15.09,14.65,13.33,13.24,4.6,6.81,9.93,6.44,6.73],
        [15.58,10.09,3.02,19.39,9.82,14.3,15.42,1.42,14.56,15.58,3.81,27.56,1.04,8.6,0,4.7,14.34,5.26,15.2,5.86,3.23,17.8,20.35,17.99,19.78,12.02,12.57,19.01,10.23,16.25,3.08,3.18,2.87,2.7,16.49,1.38,23.16,26.09,14.67,20.81,1.21,9,1.86,1.84,21.19,27.25,23.69,23.25,15.22,21.83,4,15.41,18.53,2.74,1.87],
        [13.93,8.44,4.46,17.74,8.17,15.78,20.12,4.15,12.92,15.11,2.9,25.92,5.44,6.95,4.7,0,17.94,5.24,13.56,5.49,2.46,16.15,18.71,17.1,18.14,10.37,11.57,17.36,10.97,20.94,4.22,4.13,4.14,3.91,21.18,6.08,21.51,24.44,19.37,19.17,4.37,5.37,4.43,3.77,19.54,25.61,22.04,21.6,19.92,20.19,4.54,13.76,16.88,1.95,4.03],
        [10.8,22.95,13.48,5.05,11.8,2.16,2.18,13.79,11.2,2.83,15.04,13.22,13.3,11.35,14.34,17.94,0,12.7,5.85,12.45,15.48,21.16,6.01,3.65,5.52,8.82,6.37,6.69,6.97,3,13.73,13.81,13.8,14.03,3.24,13.67,8.82,11.75,2.1,19.78,13.57,22.25,13.51,14.17,23.26,12.91,14.77,10.03,4.27,7.49,13.4,8.62,18.49,15.99,13.91],
        [10.32,10.26,2.23,14.14,4.56,10.54,14.88,3.84,9.31,10.32,2.34,22.31,4.22,3.34,5.26,5.24,12.7,0,9.95,0.61,2.79,12.54,15.1,12.73,14.53,6.77,7.31,13.75,5.73,15.7,2.18,2.07,2.39,2.55,15.94,4.59,17.9,20.83,14.12,15.56,4.05,9.55,3.4,3.41,15.93,22,18.43,18,14.68,16.58,1.26,10.15,13.27,3.29,3.39],
        [4.95,17.1,12.18,4.19,5.95,3.69,8.03,13.78,5.35,3.02,11.39,12.36,14.16,6.6,15.2,13.56,5.85,9.95,0,9.34,11.98,15.31,5.15,5.01,4.58,3.18,2.64,3.81,4.97,8.85,12.13,12.02,12.33,12.5,9.09,14.53,7.95,10.89,7.28,13.93,13.99,16.4,13.35,13.36,17.41,12.05,8.92,8.05,7.83,6.63,11.2,2.77,12.64,13.05,13.33],
        [9.72,10.5,2.84,13.53,3.96,10.29,14.63,4.44,8.7,9.72,2.59,21.7,4.82,2.74,5.86,5.49,12.45,0.61,9.34,0,3.03,11.94,14.49,12.13,13.92,6.16,6.7,13.15,5.48,15.45,2.78,2.68,2.99,3.16,15.69,5.19,17.3,20.23,13.88,14.95,4.65,9.8,4,4.02,15.33,21.39,17.83,17.39,14.43,15.97,1.86,9.55,12.67,3.71,3.99],
        [12.35,7.47,2,16.16,6.59,13.32,17.66,1.81,11.33,12.65,0.59,24.34,2.98,5.37,3.23,2.46,15.48,2.79,11.98,3.03,0,14.57,17.12,14.76,16.56,8.79,9.34,15.78,8.51,18.48,1.76,1.67,1.68,1.46,18.73,3.62,19.93,22.86,16.91,17.58,2.02,6.76,1.97,1.38,17.96,24.02,20.46,20.02,17.46,18.61,2.09,12.18,15.3,1.07,1.57],
        [10.37,7.71,14.77,17.5,9.37,19,23.34,16.38,9.96,18.34,13.98,12.44,16.76,9.81,17.8,16.15,21.16,12.54,15.31,11.94,14.57,0,18.29,20.33,15.64,12.35,14.79,14.48,14.19,24.16,14.72,14.61,14.93,15.09,24.41,17.13,17.79,20.63,22.59,3.01,16.59,10.78,15.94,15.96,3.39,21.64,6.4,11.13,23.14,16.13,13.8,12.55,2.68,15.64,15.93],
        [7.93,20.08,17.33,0.96,10.53,6.05,6.74,18.93,8.33,4.77,16.54,7.21,19.31,11.75,20.35,18.71,6.01,15.1,5.15,14.49,17.12,18.29,0,2.37,2.65,8.33,7.79,3.81,10.12,8.35,17.28,17.17,17.48,17.65,6.9,19.68,2.8,5.74,8.11,16.91,19.14,19.38,18.5,18.51,20.39,6.9,11.9,7.16,10.28,2.16,16.35,5.74,15.61,18.2,18.48],
        [9.96,22.12,14.96,2.83,10.96,3.69,4.37,16.57,10.37,2.41,14.2,9.58,16.95,10.52,17.99,17.1,3.65,12.73,5.01,12.13,14.76,20.33,2.37,0,4.69,7.98,5.54,5.85,7.76,5.99,14.91,14.8,15.12,15.28,4.53,17.32,5.17,8.1,5.74,18.95,16.78,21.41,16.13,16.14,22.42,9.26,13.93,9.19,7.92,4.2,13.99,7.78,17.65,15.83,16.12],
        [5.27,17.43,16.76,1.86,9.97,5.48,7.7,18.37,5.68,4.2,15.97,7.78,18.75,11.19,19.78,18.14,5.52,14.53,4.58,13.92,16.56,15.64,2.65,4.69,0,7.76,7.22,1.16,9.55,8.52,16.71,16.6,16.92,17.08,8.77,19.12,3.37,6.3,7.54,14.26,18.58,16.72,17.93,17.94,17.74,7.47,9.24,4.51,9.71,2.05,15.78,4.38,12.96,17.63,17.92],
        [3.56,14.13,9,7.37,2.98,6.66,11,10.6,2.54,5.99,8.21,15.54,10.98,3.42,12.02,10.37,8.82,6.77,3.18,6.16,8.79,12.35,8.33,7.98,7.76,0,2.44,6.99,1.85,11.82,8.95,8.84,9.15,9.32,12.06,11.35,11.14,14.07,10.24,10.97,10.81,13.43,10.16,10.18,14.44,15.23,11.67,11.23,10.8,9.81,8.02,3.39,9.67,9.87,10.15],
        [4.42,16.58,9.54,6.83,5.42,4.21,8.55,11.15,4.83,3.55,8.75,15,11.53,4.98,12.57,11.57,6.37,7.31,2.64,6.7,9.34,14.79,7.79,5.54,7.22,2.44,0,6.44,2.33,9.37,9.49,9.38,9.7,9.86,9.62,11.9,10.59,13.52,7.8,13.41,11.36,15.87,10.71,10.72,16.89,14.69,11.12,10.69,8.35,9.27,8.57,2.84,12.11,10.41,10.7],
        [4.11,16.27,15.98,3.03,9.19,4.71,8.87,17.59,4.52,3.86,15.19,8.56,17.97,10.41,19.01,17.36,6.69,13.75,3.81,13.15,15.78,14.48,3.81,5.85,1.16,6.99,6.44,0,8.78,9.69,15.93,15.82,16.14,16.3,9.93,18.34,4.15,7.08,8.11,13.1,17.8,15.56,17.15,17.17,16.57,8.24,8.08,4.24,8.94,2.83,15.01,3.6,11.8,16.85,17.14],
        [5.35,15.98,7.21,9.16,4.83,4.81,9.15,8.81,4.33,5.35,8.07,17.33,9.19,4.38,10.23,10.97,6.97,5.73,4.97,5.48,8.51,14.19,10.12,7.76,9.55,1.85,2.33,8.78,0,9.97,7.16,7.05,7.36,7.53,10.21,9.56,12.93,15.86,8.4,12.81,9.02,15.28,8.37,8.39,16.29,17.02,13.46,13.02,8.95,11.6,6.43,5.18,11.52,9.02,8.36],
        [13.8,25.95,16.48,7.39,14.8,5.16,1.62,16.79,14.2,5.83,18.04,15.56,15.51,14.35,16.25,20.94,3,15.7,8.85,15.45,18.48,24.16,8.35,5.99,8.52,11.82,9.37,9.69,9.97,0,16.73,16.81,16.8,17.03,1.46,14.86,11.16,14.09,1.58,22.79,16.58,25.25,16.51,17.17,26.26,15.25,17.77,13.03,1.93,9.84,16.4,11.62,21.49,18.99,16.92],
        [12.5,9.23,0.24,16.32,6.74,11.57,15.9,1.66,11.49,12.5,1.31,24.49,2.04,5.52,3.08,4.22,13.73,2.18,12.13,2.78,1.76,14.72,17.28,14.91,16.71,8.95,9.49,15.93,7.16,16.73,0,0.11,0.21,0.37,16.97,2.41,20.08,23.01,15.15,17.74,1.87,8.52,1.22,1.23,18.11,24.18,20.61,20.17,15.71,18.76,0.92,12.33,15.45,2.26,1.21],
        [12.4,9.14,0.33,16.21,6.63,11.65,15.99,1.76,11.38,12.4,1.23,24.38,2.15,5.41,3.18,4.13,13.81,2.07,12.02,2.68,1.67,14.61,17.17,14.8,16.6,8.84,9.38,15.82,7.05,16.81,0.11,0,0.32,0.48,17.05,2.52,19.97,22.9,15.24,17.63,1.98,8.44,1.33,1.34,18.01,24.07,20.5,20.07,15.79,18.65,0.82,12.22,15.34,2.18,1.32],
        [12.71,9.15,0.32,16.52,6.95,11.64,15.98,1.45,11.69,12.71,1.24,24.69,1.83,5.73,2.87,4.14,13.8,2.39,12.33,2.99,1.68,14.93,17.48,15.12,16.92,9.15,9.7,16.14,7.36,16.8,0.21,0.32,0,0.23,17.04,2.2,20.29,23.22,15.23,17.94,1.66,8.45,1.01,1.03,18.32,24.38,20.82,20.38,15.78,18.97,1.13,12.54,15.66,2.19,1],
        [12.88,8.93,0.54,16.69,7.12,11.87,16.21,1.28,11.86,12.88,1.11,24.86,1.67,5.89,2.7,3.91,14.03,2.55,12.5,3.16,1.46,15.09,17.65,15.28,17.08,9.32,9.86,16.3,7.53,17.03,0.37,0.48,0.23,0,17.27,2.16,20.45,23.38,15.45,18.11,1.5,8.22,0.85,0.86,18.49,24.55,20.98,20.55,16.01,19.13,1.3,12.7,15.82,1.96,0.84],
        [14.04,26.19,16.72,6.9,15.04,5.4,1.06,17.03,14.45,6.07,18.28,14.11,15.75,14.59,16.49,21.18,3.24,15.94,9.09,15.69,18.73,24.41,6.9,4.53,8.77,12.06,9.62,9.93,10.21,1.46,16.97,17.05,17.04,17.27,0,15.1,9.7,12.63,1.82,23.03,16.82,25.49,16.76,17.41,26.5,13.8,18.01,13.27,3.38,8.38,16.64,11.86,21.73,19.23,17.16],
        [14.91,11.09,2.35,18.72,9.15,13.63,14.04,1.93,13.89,14.91,3.18,26.89,0.64,7.93,1.38,6.08,13.67,4.59,14.53,5.19,3.62,17.13,19.68,17.32,19.12,11.35,11.9,18.34,9.56,14.86,2.41,2.52,2.2,2.16,15.1,0,22.49,25.42,13.29,20.14,1.71,10.39,1.65,2.3,20.52,26.58,23.02,22.58,13.84,21.17,3.33,14.74,17.86,4.13,2.05],
        [7.58,19.58,20.13,3.77,13.34,8.86,9.54,21.74,8.59,7.58,19.34,5.35,22.12,14.56,23.16,21.51,8.82,17.9,7.95,17.3,19.93,17.79,2.8,5.17,3.37,11.14,10.59,4.15,12.93,11.16,20.08,19.97,20.29,20.45,9.7,22.49,0,2.93,10.91,16.41,21.95,18.87,21.3,21.31,19.88,4.1,11.39,6.66,13.08,1.66,19.16,7.75,15.11,21,21.29],
        [10.51,22.42,23.06,6.7,16.27,11.79,12.47,24.67,11.53,10.51,22.27,8.19,25.05,17.49,26.09,24.44,11.75,20.83,10.89,20.23,22.86,20.63,5.74,8.1,6.3,14.07,13.52,7.08,15.86,14.09,23.01,22.9,23.22,23.38,12.63,25.42,2.93,0,13.84,19.25,24.88,21.71,24.23,24.25,22.73,1.16,14.23,9.5,16.02,4.5,22.09,10.68,17.95,23.93,24.22],
        [12.22,24.38,14.91,7.15,13.22,3.58,1.37,15.22,12.63,4.25,16.47,15.32,13.93,12.78,14.67,19.37,2.1,14.12,7.28,13.88,16.91,22.59,8.11,5.74,7.54,10.24,7.8,8.11,8.4,1.58,15.15,15.24,15.23,15.45,1.82,13.29,10.91,13.84,0,21.21,15,23.67,14.94,15.59,24.68,15.01,16.19,11.46,2.17,9.59,14.82,10.04,19.91,17.41,15.34],
        [8.99,10.73,17.79,16.12,10.99,17.63,21.96,19.39,8.58,16.96,17,11.06,19.77,12.21,20.81,19.17,19.78,15.56,13.93,14.95,17.58,3.01,16.91,18.95,14.26,10.97,13.41,13.1,12.81,22.79,17.74,17.63,17.94,18.11,23.03,20.14,16.41,19.25,21.21,0,19.6,13.8,18.96,18.97,3.47,20.26,5.02,9.75,21.76,14.75,16.81,11.17,2.28,18.66,18.94],
        [14.37,9.38,1.82,18.18,8.61,13.09,15.75,0.22,13.35,14.37,2.61,26.36,1.07,7.39,1.21,4.37,13.57,4.05,13.99,4.65,2.02,16.59,19.14,16.78,18.58,10.81,11.36,17.8,9.02,16.58,1.87,1.98,1.66,1.5,16.82,1.71,21.95,24.88,15,19.6,0,8.67,0.65,0.63,19.98,26.04,22.48,22.04,15.55,20.63,2.79,14.2,17.32,2.41,0.66],
        [11.45,3.07,8.77,18.59,10.45,20.09,24.43,8.46,11.04,19.42,7.21,20.55,9.74,10.9,9,5.37,22.25,9.55,16.4,9.8,6.76,10.78,19.38,21.41,16.72,13.43,15.87,15.56,15.28,25.25,8.52,8.44,8.45,8.22,25.49,10.39,18.87,21.71,23.67,13.8,8.67,0,8.73,8.08,14.18,22.73,16.67,16.24,24.23,17.21,8.85,13.63,11.51,6.26,8.33],
        [13.72,9.44,1.17,17.53,7.96,12.44,15.69,0.44,12.71,13.72,1.96,25.71,1.01,6.74,1.86,4.43,13.51,3.4,13.35,4,1.97,15.94,18.5,16.13,17.93,10.16,10.71,17.15,8.37,16.51,1.22,1.33,1.01,0.85,16.76,1.65,21.3,24.23,14.94,18.96,0.65,8.73,0,0.65,19.33,25.4,21.83,21.39,15.49,19.98,2.14,13.55,16.67,2.48,0.4],
        [13.74,8.79,1.18,17.55,7.98,12.46,16.35,0.42,12.72,13.74,1.97,25.72,1.66,6.76,1.84,3.77,14.17,3.41,13.36,4.02,1.38,15.96,18.51,16.14,17.94,10.18,10.72,17.17,8.39,17.17,1.23,1.34,1.03,0.86,17.41,2.3,21.31,24.25,15.59,18.97,0.63,8.08,0.65,0,19.35,25.41,21.85,21.41,16.15,19.99,2.16,13.57,16.68,1.82,0.25],
        [12.46,11.1,18.17,19.6,11.46,21.1,25.44,19.77,12.06,20.43,17.38,14.53,20.15,12.59,21.19,19.54,23.26,15.93,17.41,15.33,17.96,3.39,20.39,22.42,17.74,14.44,16.89,16.57,16.29,26.26,18.11,18.01,18.32,18.49,26.5,20.52,19.88,22.73,24.68,3.47,19.98,14.18,19.33,19.35,0,23.74,8.49,13.23,25.24,18.23,17.19,14.64,4.77,19.04,19.32],
        [11.67,23.43,24.23,7.86,17.43,12.95,13.64,25.83,12.69,11.67,23.44,9.21,26.21,18.65,27.25,25.61,12.91,22,12.05,21.39,24.02,21.64,6.9,9.26,7.47,15.23,14.69,8.24,17.02,15.25,24.18,24.07,24.38,24.55,13.8,26.58,4.1,1.16,15.01,20.26,26.04,22.73,25.4,25.41,23.74,0,15.25,10.51,17.18,5.51,23.25,11.84,18.97,25.1,25.38],
        [8.11,13.6,20.67,11.11,13.87,12.61,16.95,22.27,9.13,11.94,19.88,6.04,22.65,15.09,23.69,22.04,14.77,18.43,8.92,17.83,20.46,6.4,11.9,13.93,9.24,11.67,11.12,8.08,13.46,17.77,20.61,20.5,20.82,20.98,18.01,23.02,11.39,14.23,16.19,5.02,22.48,16.67,21.83,21.85,8.49,15.25,0,4.74,16.75,9.73,19.69,8.28,5.16,21.53,21.82],
        [7.67,13.17,20.23,6.37,13.43,8.95,12.21,21.83,8.69,7.67,19.44,4.31,22.21,14.65,23.25,21.6,10.03,18,8.05,17.39,20.02,11.13,7.16,9.19,4.51,11.23,10.69,4.24,13.02,13.03,20.17,20.07,20.38,20.55,13.27,22.58,6.66,9.5,11.46,9.75,22.04,16.24,21.39,21.41,13.23,10.51,4.74,0,13.18,5,19.25,7.84,8.46,21.1,21.38],
        [12.78,24.93,15.46,9.32,13.78,4.23,3.54,15.77,13.18,5.51,17.02,17.49,14.48,13.33,15.22,19.92,4.27,14.68,7.83,14.43,17.46,23.14,10.28,7.92,9.71,10.8,8.35,8.94,8.95,1.93,15.71,15.79,15.78,16.01,3.38,13.84,13.08,16.02,2.17,21.76,15.55,24.23,15.49,16.15,25.24,17.18,16.75,13.18,0,11.76,15.38,10.6,20.47,17.97,15.89],
        [6.26,17.92,18.81,2.44,12.02,7.53,8.22,20.42,7.27,6.25,18.02,5.73,20.8,13.24,21.83,20.19,7.49,16.58,6.63,15.97,18.61,16.13,2.16,4.2,2.05,9.81,9.27,2.83,11.6,9.84,18.76,18.65,18.97,19.13,8.38,21.17,1.66,4.5,9.59,14.75,20.63,17.21,19.98,19.99,18.23,5.51,9.73,5,11.76,0,17.83,6.43,13.45,19.68,19.97],
        [11.58,9.55,0.98,15.39,5.82,11.24,15.58,2.58,10.56,11.58,1.64,23.56,2.96,4.6,4,4.54,13.4,1.26,11.2,1.86,2.09,13.8,16.35,13.99,15.78,8.02,8.57,15.01,6.43,16.4,0.92,0.82,1.13,1.3,16.64,3.33,19.16,22.09,14.82,16.81,2.79,8.85,2.14,2.16,17.19,23.25,19.69,19.25,15.38,17.83,0,11.41,14.53,2.59,2.13],
        [2.18,14.34,12.39,4.95,5.59,6.46,10.8,13.99,2.59,5.79,11.6,12.16,14.37,6.81,15.41,13.76,8.62,10.15,2.77,9.55,12.18,12.55,5.74,7.78,4.38,3.39,2.84,3.6,5.18,11.62,12.33,12.22,12.54,12.7,11.86,14.74,7.75,10.68,10.04,11.17,14.2,13.63,13.55,13.57,14.64,11.84,8.28,7.84,10.6,6.43,11.41,0,9.87,13.25,13.54],
        [7.69,8.44,15.5,14.82,8.71,16.33,20.67,17.11,7.28,15.66,14.71,9.76,17.49,9.93,18.53,16.88,18.49,13.27,12.64,12.67,15.3,2.68,15.61,17.65,12.96,9.67,12.11,11.8,11.52,21.49,15.45,15.34,15.66,15.82,21.73,17.86,15.11,17.95,19.91,2.28,17.32,11.51,16.67,16.68,4.77,18.97,5.16,8.46,20.47,13.45,14.53,9.87,0,16.37,16.66],
        [13.43,7.93,2.51,17.24,7.66,13.83,18.17,2.2,12.41,13.43,1.66,25.41,3.48,6.44,2.74,1.95,15.99,3.29,13.05,3.71,1.07,15.64,18.2,15.83,17.63,9.87,10.41,16.85,9.02,18.99,2.26,2.18,2.19,1.96,19.23,4.13,21,23.93,17.41,18.66,2.41,6.26,2.48,1.82,19.04,25.1,21.53,21.1,17.97,19.68,2.59,13.25,16.37,0,2.08],
        [13.71,9.04,1.16,17.52,7.95,12.43,16.09,0.45,12.69,13.71,1.95,25.7,1.41,6.73,1.87,4.03,13.91,3.39,13.33,3.99,1.57,15.93,18.48,16.12,17.92,10.15,10.7,17.14,8.36,16.92,1.21,1.32,1,0.84,17.16,2.05,21.29,24.22,15.34,18.94,0.66,8.33,0.4,0.25,19.32,25.38,21.82,21.38,15.89,19.97,2.13,13.54,16.66,2.08,0],
    ]
    data['demands'] = [
        0, #depot
        0, #landfill
        1, 1, 1, 1, 1, 1, 1, 1, 1, 2, # # 2,3,4,5,67,8,9,10,11
        1, 1, 1, 1, 1, 1, 1, 1, 3, 1, # 12,13,14,15,16,17,18,19,20,21
        1, 1, 1, 1, 1, 1, 1, 1, 1, 1,# 22,23,24,25,26,27,28,29,30,31
        1, 1, 1, 1, 2, 1, 1, 1, 1, 1,# 32,33,34,35,36,37,38,39,40,41
        1, 1, 1, 1, 3, 1, 1, 1, 1, 1,# 42,43,44,45,46,47,48,49,50,51
        1, 2, 1 # 52,53,54
    ]
    data['vehicle_capacities'] = [20,20,20] 
    data['num_vehicles'] = 3
    data['depot'] = 0  # Starting node (depot)
    data['service_time'] = [
        0, #depot
        15, #landfill
        6, 6, 6, 6, 6, 6, 6, 6, 6, 12, # # 2,3,4,5,67,8,9,10,11
        6, 6, 6, 6, 6, 6, 6, 6, 18, 6, # 12,13,14,15,16,17,18,19,20,21
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, # 22,23,24,25,26,27,28,29,30,31
        6, 6, 6, 6, 12, 6, 6, 6, 6, 6, # 32,33,34,35,36,37,38,39,40,41
        6, 6, 6, 6, 18, 6, 6, 6, 6, 6, # 42,43,44,45,46,47,48,49,50,51
        6, 12, 6 # 52,53,54
    ]
    data['time_limit'] = 480  # Working hours in minutes (7 am to 3 pm)
    data['speed'] = 30  # Vehicle speed in km/h
    return data

# Print the solution with the landfill condition
def print_solution(data, manager, routing, solution):
    print(f"Objective: {solution.ObjectiveValue()}")
    total_distance = 0
    total_time = 0

    for vehicle_id in range(data['num_vehicles']):
        index = routing.Start(vehicle_id)
        plan_output = f'Route for vehicle {vehicle_id}:\n'
        route_distance = 0
        route_load = 0
        route_time = 0

        visited_landfill = False  # Flag to ensure vehicle visits landfill only when full

        while not routing.IsEnd(index):
            node_index = manager.IndexToNode(index)
            route_load += data['demands'][node_index]

            # Check if we are at the landfill and ensure vehicle only visits if full
            if node_index == 1 and route_load < data['vehicle_capacities'][vehicle_id]:
                # Skip landfill until the vehicle is full
                index = solution.Value(routing.NextVar(index))
                continue

            # Otherwise, proceed with the normal path
            plan_output += f' {node_index} Load({route_load}) -> '
            previous_index = index
            index = solution.Value(routing.NextVar(index))
            route_distance += routing.GetArcCostForVehicle(previous_index, index, vehicle_id)

            # Update route time using service time and travel time
            next_node_index = manager.IndexToNode(index)
            route_time += data['service_time'][node_index]
            route_time += data['travel'][node_index][next_node_index]

            # After visiting landfill, set the visited flag to True
            if node_index == 1:
                visited_landfill = True

        # Back to depot (index 0)
        if manager.IndexToNode(index) == 0:
            plan_output += f' 1 Load(0) -> '
            route_distance += routing.GetArcCostForVehicle(previous_index, index, vehicle_id)  # Back to depot distance
            route_load = 0

        plan_output += f' {manager.IndexToNode(index)} Load({route_load})\n'
        plan_output += f'Distance of the route: {route_distance} km\n'
        plan_output += f'Time of the route: {route_time} min\n'  # Fixed time format
        print(plan_output)

        total_distance += route_distance
        total_time += route_time

    print(f'Total distance of all routes: {total_distance} km')
    print(f'Total time of all routes: {total_time} min')

# Add time constraints
def add_time_constraints(routing, manager, data, transit_callback_index):
    time = 'Time'
    routing.AddDimension(
        transit_callback_index,
        15,  # unload time at landfill
        data['time_limit'],  # Maximum working time
        True,  # Cumulative start at zero
        time)
    time_dimension = routing.GetDimensionOrDie(time)

# Main function
def main():
    data = create_data_model()
    manager = pywrapcp.RoutingIndexManager(len(data['distance']), data['num_vehicles'], data['depot'])
    routing = pywrapcp.RoutingModel(manager)

    # Convert distance to travel times (minutes)
    speed_kmh = data['speed']
    data['travel'] = [
        [int((distance / speed_kmh) * 60) for distance in row]
        for row in data['distance']
    ]

    # Distance callback
    def travel_time_callback(from_index, to_index):
        from_node = manager.IndexToNode(from_index)
        to_node = manager.IndexToNode(to_index)
        return data['travel'][from_node][to_node]
    
    transit_callback_index = routing.RegisterTransitCallback(travel_time_callback)
    routing.SetArcCostEvaluatorOfAllVehicles(transit_callback_index)

    # Add capacity constraint
    def demand_callback(from_index):
        from_node = manager.IndexToNode(from_index)
        return data['demands'][from_node]
    
    demand_callback_index = routing.RegisterUnaryTransitCallback(demand_callback)
    routing.AddDimensionWithVehicleCapacity(
        demand_callback_index,
        0,  # No slack
        data['vehicle_capacities'],  # Vehicle capacities
        True,  # Start cumul to zero
        'Capacity')
    
    # Add time constraints
    add_time_constraints(routing, manager, data, transit_callback_index)

    # Setting the first solution heuristic
    search_parameters = pywrapcp.DefaultRoutingSearchParameters()
    search_parameters.first_solution_strategy = routing_enums_pb2.FirstSolutionStrategy.PATH_MOST_CONSTRAINED_ARC
    search_parameters.local_search_metaheuristic = routing_enums_pb2.LocalSearchMetaheuristic.GUIDED_LOCAL_SEARCH

    search_parameters.time_limit.seconds = 60 

    solution = routing.SolveWithParameters(search_parameters)

    # Print solution
    if solution:
        print_solution(data, manager, routing, solution)
    else:
        print('No solution found')

if __name__ == '__main__':
    main()


##############
# solution 2 #
##############
# Objective: 264
# Route for vehicle 0:
# 0 Load(0) ->  51 Load(1) ->  18 Load(2) ->  9 Load(3) ->  5 Load(4) ->  16 Load(5) ->  38 Load(6) ->  48 Load(7) ->  29 Load(8) ->  34 Load(9) ->  6 Load(10) ->  23 Load(11) ->  3 Load(12) ->  22 Load(13) ->  45 Load(14) ->  37 Load(15) ->  36 Load(17) ->  49 Load(18) ->  24 Load(19) ->  27 Load(20) ->  1 Load(0) ->  0 Load(0)
# Distance of the route: 95 km
# Time of the route: 207 min

# Route for vehicle 1:
# 0 Load(0) ->  26 Load(1) ->  28 Load(2) ->  31 Load(3) ->  33 Load(4) ->  42 Load(5) ->  54 Load(6) ->  43 Load(7) ->  7 Load(8) ->  40 Load(9) ->  14 Load(10) ->  35 Load(11) ->  12 Load(12) ->  32 Load(13) ->  30 Load(14) ->  2 Load(15) ->  50 Load(16) ->  17 Load(17) ->  19 Load(18) ->  4 Load(19) ->  8 Load(20) ->  1 Load(0) ->  0 Load(0)
# Distance of the route: 59 km
# Time of the route: 177 min

# Route for vehicle 2:
# 0 Load(0) ->  47 Load(1) ->  11 Load(3) ->  46 Load(6) ->  52 Load(7) ->  39 Load(8) ->  44 Load(9) ->  21 Load(10) ->  41 Load(11) ->  15 Load(12) ->  53 Load(14) ->  20 Load(17) ->  10 Load(18) ->  13 Load(19) ->  25 Load(20) ->  1 Load(0) ->  0 Load(0)
# Distance of the route: 121 km
# Time of the route: 234 min

# Total distance of all routes: 275 km
# Total time of all routes: 618 min